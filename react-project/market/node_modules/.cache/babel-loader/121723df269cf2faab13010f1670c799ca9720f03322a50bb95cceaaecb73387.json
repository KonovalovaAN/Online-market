{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useTranslation}from'react-i18next';import CatalogDropdown from'../components/CatalogDropdown';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const String='127.0.0.1';function Product(){const{name}=useParams();const[product,setProduct]=useState(null);const navigate=useNavigate();const{t}=useTranslation();useEffect(()=>{if(!name){console.error('Отсутствует параметр имени продукта');return;}fetch('http://'+String+':8000/api/goods/'+name).then(response=>{if(!response.ok){throw new Error('Товар не найден');}return response.json();}).then(data=>{setProduct(data);}).catch(error=>{console.error('Ошибка при загрузке товара:',error);alert(t('productNotFound'));});},[name,t]);const handleAddToCart=()=>{console.log(`${t('productAddedToCart')}: ${product.name}`);};return product?/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-1 position-fixed z-3\",children:[/*#__PURE__*/_jsx(CatalogDropdown,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-dark btn-secondary d-flex\",id:\"modalButton\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-1\",src:\"../deps/icons/basket2-fill.svg\",alt:t('catalogIconAlt'),width:\"24\",height:\"24\"}),/*#__PURE__*/_jsx(\"span\",{children:\"0\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'4px',borderRadius:'15px'}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",style:{marginLeft:'155px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4 custom-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-0 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:`http://${String}:8000${product.image}`,className:\"img-thumbnail\",alt:product.name,style:{maxWidth:'100%',height:'auto'},\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#imageModal1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('description'),\":\"]}),\" \",product.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('price'),\":\"]}),\" \",product.price,\" BYN\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"btn btn-dark add-to-cart\",children:t('addToCart')})]})})]})})})})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'35px',borderRadius:'15px'}})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center\",children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'35px',borderRadius:'15px'}}),/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:t('loading')})})]});}export default Product;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useTranslation","CatalogDropdown","jsx","_jsx","jsxs","_jsxs","String","Product","name","product","setProduct","navigate","t","console","error","fetch","then","response","ok","Error","json","data","catch","alert","handleAddToCart","log","className","children","type","id","src","alt","width","height","style","padding","borderRadius","marginLeft","image","maxWidth","description","price","onClick","role"],"sources":["D:/Leva/BSU/course_3/sem_5/TP/press-f-project/dev-env/frontend-repo/Online-market/react-project/market/src/pages/Product.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next'; \r\nimport CatalogDropdown from '../components/CatalogDropdown';\r\n\r\nconst String = '127.0.0.1';\r\n\r\nfunction Product() {\r\n  const { name } = useParams(); \r\n  const [product, setProduct] = useState(null);\r\n  const navigate = useNavigate();\r\n  const { t } = useTranslation(); \r\n\r\n  useEffect(() => {\r\n    if (!name) {\r\n      console.error('Отсутствует параметр имени продукта');\r\n      return;\r\n    }\r\n\r\n    fetch('http://' + String + ':8000/api/goods/' + name)\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error('Товар не найден');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        setProduct(data); \r\n      })\r\n      .catch((error) => {\r\n        console.error('Ошибка при загрузке товара:', error);\r\n        alert(t('productNotFound')); \r\n      });\r\n  }, [name, t]);\r\n\r\n  const handleAddToCart = () => {\r\n    console.log(`${t('productAddedToCart')}: ${product.name}`);\r\n  };\r\n\r\n  return product ? (\r\n    <div className=\"container\">\r\n        <div className=\"container\">\r\n                  <div className=\"row mt-1 position-fixed z-3\">\r\n                      {/* Каталог */}\r\n                      <CatalogDropdown />\r\n                      <div>\r\n                          <button type=\"button\" className=\"btn btn-dark btn-secondary d-flex\" id=\"modalButton\" aria-expanded=\"false\">\r\n                              <img className=\"mx-1\" src=\"../deps/icons/basket2-fill.svg\" alt={t('catalogIconAlt')} width=\"24\"\r\n                                  height=\"24\"/>\r\n                              <span>0</span>\r\n                          </button>\r\n                      </div>\r\n                      <div style={{ padding: '4px', borderRadius: '15px' }}></div>\r\n                  </div>\r\n              </div>\r\n        \r\n      <div className=\"row mt-2\">\r\n        <div className=\"col-lg-10\">\r\n         <div className=\"container mt-4\" style={{ marginLeft: '155px' }}>\r\n            <div className=\"card mb-4 custom-shadow\">\r\n              <div className=\"row g-0 d-flex align-items-center\" >\r\n                <div className=\"col-md-4 text-center\">\r\n                  <img\r\n                    src={`http://${String}:8000${product.image}`}\r\n                    className=\"img-thumbnail\"\r\n                    alt={product.name}\r\n                    style={{ maxWidth: '100%', height: 'auto' }}\r\n                    data-bs-toggle=\"modal\"\r\n                    data-bs-target=\"#imageModal1\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                  <div className=\"card-body\">\r\n                    <h2>{product.name}</h2>\r\n                    <p><strong>{t('description')}:</strong> {product.description}</p>\r\n                    <p><strong>{t('price')}:</strong> {product.price} BYN</p>\r\n                    <button\r\n                      onClick={handleAddToCart}\r\n                      className=\"btn btn-dark add-to-cart\"\r\n                    >\r\n                      {t('addToCart')}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style={{ padding: '35px', borderRadius: '15px' }}></div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"container text-center\">\r\n      <div style={{ padding: '35px', borderRadius: '15px' }}></div>\r\n      <div className=\"spinner-border\" role=\"status\">\r\n        <span className=\"visually-hidden\">{t('loading')}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}