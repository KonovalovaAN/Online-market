{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import CartModal from'../components/CartModal';import CatalogDropdown from'../components/CatalogDropdown';import FiltersDropdown from'../components/FiltersDropdown';import{useTranslation}from'react-i18next';// const String = `192.168.0.100`\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const String=`127.0.0.1`;function Catalog(){const{t}=useTranslation();const[goods,setGoods]=useState([]);const[currentPage,setCurrentPage]=useState(1);const itemsPerPage=15;useEffect(()=>{document.title=t(\"catalog\");fetch('http://'+String+':8000/api/goods/').then(response=>{if(!response.ok){throw new Error(\"Failed to fetch goods\");}return response.json();}).then(data=>{setGoods(data);}).catch(error=>{console.error(\"Error fetching goods:\",error);});},[t]);const indexOfLastItem=currentPage*itemsPerPage;const indexOfFirstItem=indexOfLastItem-itemsPerPage;const currentItems=goods.slice(indexOfFirstItem,indexOfLastItem);const paginate=pageNumber=>setCurrentPage(pageNumber);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-1 position-fixed z-3\",children:[/*#__PURE__*/_jsx(CatalogDropdown,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-dark btn-secondary d-flex\",id:\"modalButton\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-1\",src:\"../deps/icons/basket2-fill.svg\",alt:\"Catalog Icon\",width:\"24\",height:\"24\"}),/*#__PURE__*/_jsx(\"span\",{children:\"0\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'4px',borderRadius:'15px'}}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown mb-2\",children:/*#__PURE__*/_jsx(FiltersDropdown,{})}),/*#__PURE__*/_jsx(CartModal,{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:currentItems.length>0?currentItems.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 col-md-6 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-primary rounded custom-shadow h-100\",children:[/*#__PURE__*/_jsx(\"img\",{src:`http://`+String+`:8000${item.image}`,className:\"card-img-top\",alt:item.name,style:{width:'260px',height:'340px',objectFit:'contain',display:'block',marginLeft:'auto',marginRight:'auto',paddingTop:'10px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsx(Link,{to:`/product/${encodeURIComponent(item.name)}`,children:/*#__PURE__*/_jsx(\"p\",{className:\"card-title\",children:item.name})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t(\"characteristics\"),\":\"]}),\" \",item.description]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-auto d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t(\"price\"),\":\"]}),\" \",item.price,\" BYN\"]}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"btn add-to-cart\"})]})]})]})},index)):/*#__PURE__*/_jsx(\"p\",{children:t(\"items_not_found\")})})})]})})]}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination justify-content-center my-4\",children:[/*#__PURE__*/_jsx(\"li\",{className:`page-item ${currentPage===1?'disabled':''}`,children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",href:\"#\",onClick:()=>paginate(currentPage-1),children:t(\"previous\")})}),[...Array(Math.ceil(goods.length/itemsPerPage))].map((_,index)=>/*#__PURE__*/_jsx(\"li\",{className:`page-item ${currentPage===index+1?'active':''}`,children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",href:\"#\",onClick:()=>paginate(index+1),children:index+1})},index)),/*#__PURE__*/_jsx(\"li\",{className:`page-item ${currentPage===Math.ceil(goods.length/itemsPerPage)?'disabled':''}`,children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",href:\"#\",onClick:()=>paginate(currentPage+1),children:t(\"next\")})})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'35px',borderRadius:'15px'}})]});}export default Catalog;","map":{"version":3,"names":["React","useEffect","useState","Link","CartModal","CatalogDropdown","FiltersDropdown","useTranslation","jsx","_jsx","jsxs","_jsxs","String","Catalog","t","goods","setGoods","currentPage","setCurrentPage","itemsPerPage","document","title","fetch","then","response","ok","Error","json","data","catch","error","console","indexOfLastItem","indexOfFirstItem","currentItems","slice","paginate","pageNumber","children","className","type","id","src","alt","width","height","style","padding","borderRadius","length","map","item","index","image","name","objectFit","display","marginLeft","marginRight","paddingTop","to","encodeURIComponent","description","price","href","onClick","Array","Math","ceil","_"],"sources":["D:/Leva/BSU/course_3/sem_5/TP/press-f-project/dev-env/frontend-repo/Online-market/react-project/market/src/pages/Catalog.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport CartModal from '../components/CartModal';\r\nimport CatalogDropdown from '../components/CatalogDropdown';\r\nimport FiltersDropdown from '../components/FiltersDropdown';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// const String = `192.168.0.100`\r\nconst String = `127.0.0.1`\r\n\r\nfunction Catalog() {\r\n  const { t } = useTranslation(); \r\n  const [goods, setGoods] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 15;\r\n\r\n  useEffect(() => {\r\n    document.title = t(\"catalog\");\r\n\r\n    fetch('http://' + String + ':8000/api/goods/') \r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch goods\");\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        setGoods(data); \r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error fetching goods:\", error);\r\n      });\r\n  }, [t]);\r\n\r\n\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n  const currentItems = goods.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  return (\r\n    <div>\r\n      <section>\r\n        <div className=\"container\">\r\n          <div className=\"row mt-1 position-fixed z-3\">\r\n            <CatalogDropdown />\r\n            <div>\r\n              <button type=\"button\" className=\"btn btn-dark btn-secondary d-flex\" id=\"modalButton\" aria-expanded=\"false\">\r\n                <img className=\"mx-1\" src=\"../deps/icons/basket2-fill.svg\" alt=\"Catalog Icon\" width=\"24\"\r\n                  height=\"24\" />\r\n                <span>0</span>\r\n              </button>\r\n            </div>\r\n            <div style={{ padding: '4px', borderRadius: '15px' }}></div>\r\n            <div className=\"dropdown mb-2\">\r\n              <FiltersDropdown />\r\n            </div>\r\n            <CartModal />\r\n          </div>\r\n        </div>\r\n        <div className=\"container\">\r\n\r\n          <div className=\"row mt-1\">\r\n            <div className=\"col-lg-2\">{/* */}</div>\r\n            <div className=\"col-lg-10\">\r\n              <div className=\"row\">\r\n                {currentItems.length > 0 ? (\r\n                  currentItems.map((item, index) => (\r\n                    <div className=\"col-lg-4 col-md-6 p-4\" key={index}>\r\n                      <div className=\"card border-primary rounded custom-shadow h-100\">\r\n                        <img\r\n                          src={`http://` + String + `:8000${item.image}`}\r\n                          className=\"card-img-top\"\r\n                          alt={item.name}\r\n                          style={{\r\n                            width: '260px',\r\n                            height: '340px',\r\n                            objectFit: 'contain',\r\n                            display: 'block',\r\n                            marginLeft: 'auto',\r\n                            marginRight: 'auto',\r\n                            paddingTop: '10px'\r\n                          }}\r\n                        />\r\n\r\n                        <div className=\"card-body d-flex flex-column\">\r\n                          <Link to={`/product/${encodeURIComponent(item.name)}`}>\r\n                            <p className=\"card-title\">{item.name}</p>\r\n                          </Link>\r\n\r\n                          <p><strong>{t(\"characteristics\")}:</strong> {item.description}</p>\r\n\r\n                          <div className=\"mt-auto d-flex justify-content-between\">\r\n                            <p><strong>{t(\"price\")}:</strong> {item.price} BYN</p>\r\n                            <a href=\"#\" className=\"btn add-to-cart\">\r\n                            </a>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <p>{t(\"items_not_found\")}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <nav aria-label=\"Page navigation example\">\r\n        <ul className=\"pagination justify-content-center my-4\">\r\n          <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\r\n            <a className=\"page-link\" href=\"#\" onClick={() => paginate(currentPage - 1)}>{t(\"previous\")}</a>\r\n          </li>\r\n          {[...Array(Math.ceil(goods.length / itemsPerPage))].map((_, index) => (\r\n            <li key={index} className={`page-item ${currentPage === index + 1 ? 'active' : ''}`}>\r\n              <a className=\"page-link\" href=\"#\" onClick={() => paginate(index + 1)}>\r\n                {index + 1}\r\n              </a>\r\n            </li>\r\n          ))}\r\n          <li className={`page-item ${currentPage === Math.ceil(goods.length / itemsPerPage) ? 'disabled' : ''}`}>\r\n            <a className=\"page-link\" href=\"#\" onClick={() => paginate(currentPage + 1)}>{t(\"next\")}</a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n      <div style={{ padding: '35px', borderRadius: '15px' }}></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Catalog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}