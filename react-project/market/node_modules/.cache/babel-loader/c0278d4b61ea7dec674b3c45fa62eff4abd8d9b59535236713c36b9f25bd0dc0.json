{"ast":null,"code":"var _jsxFileName = \"D:\\\\Leva\\\\BSU\\\\course_3\\\\sem_5\\\\TP\\\\press-f-project\\\\dev-env\\\\frontend-repo\\\\Online-market\\\\react-project\\\\market\\\\src\\\\pages\\\\CatalogByCategories.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CatalogByCategory() {\n  _s();\n  const {\n    category_slug\n  } = useParams(); // Получение параметра категории из URL\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!category_slug) {\n      setError('Категория не указана.');\n      setLoading(false);\n      return;\n    }\n    const fetchGoods = async () => {\n      try {\n        const response = await fetch(`localhost:8000/catalog/api/${category_slug}`);\n        if (!response.ok) {\n          throw new Error(`Ошибка сервера: ${response.status}`);\n        }\n        const data = await response.json();\n        setGoods(data);\n      } catch (err) {\n        setError(`Не удалось загрузить товары: ${err.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchGoods();\n  }, [category_slug]);\n  console.log(goods);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color: 'red'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438: \", category_slug]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"goods-list\",\n      children: goods.length > 0 ? goods.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"good-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0426\\u0435\\u043D\\u0430: \", item.price, \" BYN\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image_url,\n          alt: item.name,\n          style: {\n            width: '200px',\n            height: '200px',\n            objectFit: 'contain'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(CatalogByCategory, \"Lp/lxsGhKyCr5L2i57rNekEVtrM=\", false, function () {\n  return [useParams];\n});\n_c = CatalogByCategory;\nexport default CatalogByCategory;\nvar _c;\n$RefreshReg$(_c, \"CatalogByCategory\");","map":{"version":3,"names":["React","useEffect","useState","useParams","jsxDEV","_jsxDEV","CatalogByCategory","_s","category_slug","goods","setGoods","loading","setLoading","error","setError","fetchGoods","response","fetch","ok","Error","status","data","json","err","message","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","className","length","map","item","name","price","src","image_url","alt","width","height","objectFit","id","_c","$RefreshReg$"],"sources":["D:/Leva/BSU/course_3/sem_5/TP/press-f-project/dev-env/frontend-repo/Online-market/react-project/market/src/pages/CatalogByCategories.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nfunction CatalogByCategory() {\r\n  const { category_slug } = useParams(); // Получение параметра категории из URL\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!category_slug) {\r\n      setError('Категория не указана.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const fetchGoods = async () => {\r\n      try {\r\n        const response = await fetch(`localhost:8000/catalog/api/${category_slug}`);\r\n        if (!response.ok) {\r\n          throw new Error(`Ошибка сервера: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        setGoods(data);\r\n      } catch (err) {\r\n        setError(`Не удалось загрузить товары: ${err.message}`);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGoods();\r\n  }, [category_slug]);\r\n\r\n  console.log(goods)\r\n  if (loading) return <p>Загрузка...</p>;\r\n  if (error) return <p style={{ color: 'red' }}>{error}</p>;\r\n\r\n  return (\r\n    <div>\r\n      <h1>Товары категории: {category_slug}</h1>\r\n      <div className=\"goods-list\">\r\n        {goods.length > 0 ? (\r\n          goods.map((item) => (\r\n            <div key={item.id} className=\"good-item\">\r\n              <h2>{item.name}</h2>\r\n              <p>Цена: {item.price} BYN</p>\r\n              <img\r\n                src={item.image_url}\r\n                alt={item.name}\r\n                style={{\r\n                  width: '200px',\r\n                  height: '200px',\r\n                  objectFit: 'contain',\r\n                }}\r\n              />\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>Товары не найдены.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CatalogByCategory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}